!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(){function t(t){this.value=t}return t.parseEmailStringsFromString=function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g).filter((function(t){return t.length>0})).map((function(e){return new t(e)}))},t.prototype.isValid=function(){return i.test(this.value)},t}();e.EmailString=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t,e){this.ownerDocument=t,this.model=e}return t.prototype.element=function(t){return i.element(this.ownerDocument,t)},t.prototype.getModel=function(){return this.model},t.prototype.getHtml=function(){return this.html},t.prototype.create=function(){return this.model.addObserver(this),this.html=this.createHtml(),this.update("*"),this},t.prototype.update=function(t){},t}();e.View=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(3),o=n(5),s=function(){function t(t,e){this.root=t,this.emailsList=new r.EmailStringList((e&&e.emails||[]).map((function(t){return new i.EmailString(t)}))),this.emailInputView=new o.EmailsInputView(t.ownerDocument,this.emailsList),this.onEmailsListChange=e&&e.onChange}return t.prototype.getEmails=function(){return this.emailsList.getEmails().map((function(t){return t.value}))},t.prototype.setEmails=function(t){this.emailsList.setEmails(t.map((function(t){return new i.EmailString(t)})))},t.prototype.addEmail=function(t){this.emailsList.addEmails([new i.EmailString(t)])},t.prototype.scrollToBottom=function(){this.emailInputView.scrollToBottom()},t.prototype.create=function(){return this.emailsList.addObserver(this),this.root.appendChild(this.emailInputView.create().getHtml()),this},t.prototype.update=function(t){"emails"===t&&this.onEmailsListChange&&this.onEmailsListChange(this.getEmails())},t}();e.EmailsInput=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this;return n.emails=e,n}return r(e,t),e.prototype.getEmails=function(){return this.emails},e.prototype.setEmails=function(t){this.emails=t,this.notifyObservers("emails")},e.prototype.removeEmail=function(t){this.setEmails(this.emails.filter((function(e){return e!==t})))},e.prototype.addEmails=function(t){this.setEmails(this.emails.concat(t))},e}(n(4).Observable);e.EmailStringList=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.observers=[]}return t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},t.prototype.hasObserver=function(t){return this.observers.includes(t)},t.prototype.notifyObservers=function(t){this.observers.slice(0).forEach((function(e){return e.update(t)}))},t}();e.Observable=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(0),a=n(7);n(9);var l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.emailStringListView=new a.EmailStringListView(e,n),i}return r(e,t),e.prototype.scrollToBottom=function(){this.html.scrollTop=this.html.scrollHeight},e.prototype.updateInputWidth=function(){this.input.value?this.input.scrollWidth>this.input.offsetWidth&&(this.input.style.width=this.input.scrollWidth+"px"):this.input.style.width=""},e.prototype.addEmailsFromString=function(t,e){var n=s.EmailString.parseEmailStringsFromString(t);n.length>0&&(this.getModel().addEmails(n),e&&(this.input.value=this.input.value.substr(t.length).replace(/^\s+/,""),this.input.setSelectionRange(0,0),this.updateInputWidth()))},e.prototype.handleInputBlurEvent=function(){this.addEmailsFromString(this.input.value,!0)},e.prototype.handleInputPasteEvent=function(t){this.addEmailsFromString(t.clipboardData.getData("text/plain"),!1),this.scrollToBottom(),t.preventDefault()},e.prototype.handleInputKeyDownEvent=function(t){"Enter"===t.key&&this.addEmailsFromString(this.input.value,!0)},e.prototype.handleInputKeyUpEvent=function(t){if(","===t.key){var e=this.input.value.lastIndexOf(",");-1!==e&&this.addEmailsFromString(this.input.value.substr(0,e+1),!0)}},e.prototype.handleInputTextInputEvent=function(){this.updateInputWidth()},e.prototype.handleDragEvent=function(t){t.dataTransfer.types.includes("text/plain")&&t.preventDefault()},e.prototype.handleDropEvent=function(t){this.addEmailsFromString(t.dataTransfer.getData("text/plain"),!1),this.scrollToBottom(),t.preventDefault()},e.prototype.handleClickEvent=function(){event.target===this.getHtml()&&this.input.focus()},e.prototype.createHtml=function(){var t=this;return this.input=this.element({name:"input",classes:["emails-input__control"],listeners:{blur:function(){return t.handleInputBlurEvent()},paste:function(e){return t.handleInputPasteEvent(e)},keydown:function(e){return t.handleInputKeyDownEvent(e)},keyup:function(e){return t.handleInputKeyUpEvent(e)},input:function(){return t.handleInputTextInputEvent()}}}),this.element({name:"div",classes:["emails-input"],children:[this.emailStringListView.create().getHtml(),this.input],listeners:{dragenter:function(e){return t.handleDragEvent(e)},dragover:function(e){return t.handleDragEvent(e)},drop:function(e){return t.handleDropEvent(e)},click:function(){return t.handleClickEvent()}}})},e}(o.View);e.EmailsInputView=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.element=function(t,e){var n=t.createElement(e.name);if(n.className=e.classes?e.classes.join(" "):"",n.textContent=e.text||"",e.role&&n.setAttribute("role",e.role),e.children&&e.children.forEach((function(t){return n.appendChild(t)})),e.listeners)for(var i in e.listeners)e.listeners.hasOwnProperty(i)&&n.addEventListener(i,e.listeners[i]);return n}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);n(8);var s=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.createEmailHtml=function(t){var e=this;return this.element({name:"span",classes:["email-string-list__email-block","email-string-list__email-block-"+(t.isValid()?"valid":"invalid")],children:[this.element({name:"span",classes:["email-string-list__email-label"],text:t.value}),this.element({name:"span",classes:["email-string-list__email-remove-button"],text:"Ã—",listeners:{click:function(n){return e.getModel().removeEmail(t)}}})]})},e.prototype.createHtml=function(){return this.element({name:"span",classes:["email-string-list"]})},e.prototype.update=function(e){var n=this;if("emails"===e||"*"===e){for(;this.getHtml().firstChild;)this.getHtml().removeChild(this.getHtml().firstChild);this.getModel().getEmails().forEach((function(t){return n.getHtml().appendChild(n.createEmailHtml(t))}))}t.prototype.update.call(this,e)},e}(o.View);e.EmailStringListView=s},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);n(12);var r=document.getElementById("emails-count");r.textContent="2";var o=new i.EmailsInput(document.getElementById("email-input"),{emails:["bla@bla.com","invalid.com"],onChange:function(t){r.textContent=String(t.length)}}).create(),s=["bob","rob","john","steve","jane","anna"],a=["apple","facebook","google","linkedin"],l=["com","org","net","nl","ru","ua"];function u(t){return t[Math.round(Math.random()*(t.length-1))]}document.getElementById("add-email").addEventListener("click",(function(){o.addEmail(u(s)+"@"+u(a)+"."+u(l)),o.scrollToBottom()})),document.getElementById("get-emails-count").addEventListener("click",(function(){alert(o.getEmails().length+" emails entered!")}))},function(t,e,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL0VtYWlsU3RyaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0VtYWlsc0lucHV0LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9FbWFpbFN0cmluZ0xpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL09ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvRW1haWxzSW5wdXRWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2VsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvRW1haWxTdHJpbmdMaXN0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zYW1wbGVzL2RlZmF1bHQvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFTUFJTF9SRUdFWFAiLCJFbWFpbFN0cmluZyIsInRoaXMiLCJwYXJzZUVtYWlsU3RyaW5nc0Zyb21TdHJpbmciLCJlbWFpbHNTdHJpbmciLCJyZXBsYWNlIiwic3BsaXQiLCJmaWx0ZXIiLCJpdGVtIiwibGVuZ3RoIiwibWFwIiwiaXNWYWxpZCIsInRlc3QiLCJlbGVtZW50XzEiLCJWaWV3Iiwib3duZXJEb2N1bWVudCIsIm1vZGVsIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJnZXRNb2RlbCIsImdldEh0bWwiLCJodG1sIiwiYWRkT2JzZXJ2ZXIiLCJjcmVhdGVIdG1sIiwidXBkYXRlIiwiRW1haWxTdHJpbmdfMSIsIkVtYWlsU3RyaW5nTGlzdF8xIiwiRW1haWxzSW5wdXRWaWV3XzEiLCJFbWFpbHNJbnB1dCIsInJvb3QiLCJlbWFpbHNMaXN0IiwiRW1haWxTdHJpbmdMaXN0IiwiZW1haWxzIiwiZW1haWwiLCJlbWFpbElucHV0VmlldyIsIkVtYWlsc0lucHV0VmlldyIsIm9uRW1haWxzTGlzdENoYW5nZSIsIm9uQ2hhbmdlIiwiZ2V0RW1haWxzIiwic2V0RW1haWxzIiwiYWRkRW1haWwiLCJhZGRFbWFpbHMiLCJzY3JvbGxUb0JvdHRvbSIsImFwcGVuZENoaWxkIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX18iLCJjb25zdHJ1Y3RvciIsIl9zdXBlciIsIl90aGlzIiwibm90aWZ5T2JzZXJ2ZXJzIiwicmVtb3ZlRW1haWwiLCJjb25jYXQiLCJPYnNlcnZhYmxlIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXIiLCJwdXNoIiwicmVtb3ZlT2JzZXJ2ZXIiLCJoYXNPYnNlcnZlciIsImluY2x1ZGVzIiwic2xpY2UiLCJmb3JFYWNoIiwiVmlld18xIiwiRW1haWxTdHJpbmdMaXN0Vmlld18xIiwiZW1haWxTdHJpbmdMaXN0VmlldyIsIkVtYWlsU3RyaW5nTGlzdFZpZXciLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJ1cGRhdGVJbnB1dFdpZHRoIiwiaW5wdXQiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwic3R5bGUiLCJ3aWR0aCIsImFkZEVtYWlsc0Zyb21TdHJpbmciLCJyZXNldElucHV0Iiwic3Vic3RyIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYW5kbGVJbnB1dEJsdXJFdmVudCIsImhhbmRsZUlucHV0UGFzdGVFdmVudCIsImV2ZW50IiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZUlucHV0S2V5RG93bkV2ZW50IiwiaGFuZGxlSW5wdXRLZXlVcEV2ZW50IiwibGFzdENvbWFJbmRleCIsImxhc3RJbmRleE9mIiwiaGFuZGxlSW5wdXRUZXh0SW5wdXRFdmVudCIsImhhbmRsZURyYWdFdmVudCIsImRhdGFUcmFuc2ZlciIsInR5cGVzIiwiaGFuZGxlRHJvcEV2ZW50IiwiaGFuZGxlQ2xpY2tFdmVudCIsInRhcmdldCIsImZvY3VzIiwiY2xhc3NlcyIsImxpc3RlbmVycyIsImJsdXIiLCJwYXN0ZSIsImtleWRvd24iLCJrZXl1cCIsImNoaWxkcmVuIiwiZHJhZ2VudGVyIiwiZHJhZ292ZXIiLCJkcm9wIiwiY2xpY2siLCJyZXN1bHQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiam9pbiIsInRleHRDb250ZW50IiwidGV4dCIsInJvbGUiLCJzZXRBdHRyaWJ1dGUiLCJjaGlsZCIsImxpc3RlbmVyTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVFbWFpbEh0bWwiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJFbWFpbHNJbnB1dF8xIiwiZW1haWxzQ291bnRMYWJlbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJlbWFpbHNJbnB1dCIsIlN0cmluZyIsInNhbXBsZU5hbWVzIiwic2FtcGxlU3ViZG9tYWlucyIsInNhbXBsZVJvb3REb21haW5zIiwicGlja1JhbmRvbSIsImxpc3QiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJhbGVydCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJ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QUFjakcsWUFBWW1HLFNBQVNDLGVBQWUsZUFBZ0IsQ0FDcEZoRyxPQUFRLENBQUMsY0FBZSxlQUN4QkssU0FBVSxTQUFVTCxHQUNoQjhGLEVBQWlCWCxZQUFjZSxPQUFPbEcsRUFBT3ZCLFdBR2hEbkIsU0FDRDZJLEVBQWMsQ0FBQyxNQUFPLE1BQU8sT0FBUSxRQUFTLE9BQVEsUUFDdERDLEVBQW1CLENBQUMsUUFBUyxXQUFZLFNBQVUsWUFDbkRDLEVBQW9CLENBQUMsTUFBTyxNQUFPLE1BQU8sS0FBTSxLQUFNLE1BQzFELFNBQVNDLEVBQVdDLEdBQ2hCLE9BQU9BLEVBQUtDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlILEVBQUs5SCxPQUFTLEtBRTFEc0gsU0FBU0MsZUFBZSxhQUFhUCxpQkFBaUIsU0FBUyxXQUMzRFEsRUFBWXpGLFNBQVM4RixFQUFXSCxHQUFlLElBQU1HLEVBQVdGLEdBQW9CLElBQU1FLEVBQVdELElBQ3JHSixFQUFZdkYsb0JBRWhCcUYsU0FBU0MsZUFBZSxvQkFBb0JQLGlCQUFpQixTQUFTLFdBQ2xFa0IsTUFBTVYsRUFBWTNGLFlBQVk3QixPQUFTLHdCIiwiZmlsZSI6ImRlZmF1bHQtc2FtcGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDExKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEVNQUlMX1JFR0VYUCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xudmFyIEVtYWlsU3RyaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtYWlsU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgRW1haWxTdHJpbmcucGFyc2VFbWFpbFN0cmluZ3NGcm9tU3RyaW5nID0gZnVuY3Rpb24gKGVtYWlsc1N0cmluZykge1xuICAgICAgICByZXR1cm4gZW1haWxzU3RyaW5nXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG4gICAgICAgICAgICAuc3BsaXQoL1xccyosXFxzKi9nKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sZW5ndGggPiAwOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gbmV3IEVtYWlsU3RyaW5nKGl0ZW0pOyB9KTtcbiAgICB9O1xuICAgIEVtYWlsU3RyaW5nLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRU1BSUxfUkVHRVhQLnRlc3QodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW1haWxTdHJpbmc7XG59KCkpO1xuZXhwb3J0cy5FbWFpbFN0cmluZyA9IEVtYWlsU3RyaW5nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZWxlbWVudF8xID0gcmVxdWlyZShcIkAvdmlldy9lbGVtZW50XCIpO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhvd25lckRvY3VtZW50LCBtb2RlbCkge1xuICAgICAgICB0aGlzLm93bmVyRG9jdW1lbnQgPSBvd25lckRvY3VtZW50O1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIFZpZXcucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZWxlbWVudF8xLmVsZW1lbnQodGhpcy5vd25lckRvY3VtZW50LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmdldEh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0bWw7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuaHRtbCA9IHRoaXMuY3JlYXRlSHRtbCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgnKicpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEVtYWlsU3RyaW5nXzEgPSByZXF1aXJlKFwiQC9tb2RlbC9FbWFpbFN0cmluZ1wiKTtcbnZhciBFbWFpbFN0cmluZ0xpc3RfMSA9IHJlcXVpcmUoXCJAL21vZGVsL0VtYWlsU3RyaW5nTGlzdFwiKTtcbnZhciBFbWFpbHNJbnB1dFZpZXdfMSA9IHJlcXVpcmUoXCJAL3ZpZXcvRW1haWxzSW5wdXRWaWV3XCIpO1xudmFyIEVtYWlsc0lucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtYWlsc0lucHV0KHJvb3QsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICAgICAgdGhpcy5lbWFpbHNMaXN0ID0gbmV3IEVtYWlsU3RyaW5nTGlzdF8xLkVtYWlsU3RyaW5nTGlzdCgob3B0aW9ucyAmJiBvcHRpb25zLmVtYWlscyB8fCBbXSkubWFwKGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gbmV3IEVtYWlsU3RyaW5nXzEuRW1haWxTdHJpbmcoZW1haWwpOyB9KSk7XG4gICAgICAgIHRoaXMuZW1haWxJbnB1dFZpZXcgPSBuZXcgRW1haWxzSW5wdXRWaWV3XzEuRW1haWxzSW5wdXRWaWV3KHJvb3Qub3duZXJEb2N1bWVudCwgdGhpcy5lbWFpbHNMaXN0KTtcbiAgICAgICAgdGhpcy5vbkVtYWlsc0xpc3RDaGFuZ2UgPSBvcHRpb25zICYmIG9wdGlvbnMub25DaGFuZ2U7XG4gICAgfVxuICAgIEVtYWlsc0lucHV0LnByb3RvdHlwZS5nZXRFbWFpbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtYWlsc0xpc3QuZ2V0RW1haWxzKCkubWFwKGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gZW1haWwudmFsdWU7IH0pO1xuICAgIH07XG4gICAgRW1haWxzSW5wdXQucHJvdG90eXBlLnNldEVtYWlscyA9IGZ1bmN0aW9uIChlbWFpbHMpIHtcbiAgICAgICAgdGhpcy5lbWFpbHNMaXN0LnNldEVtYWlscyhlbWFpbHMubWFwKGZ1bmN0aW9uIChlbWFpbCkgeyByZXR1cm4gbmV3IEVtYWlsU3RyaW5nXzEuRW1haWxTdHJpbmcoZW1haWwpOyB9KSk7XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dC5wcm90b3R5cGUuYWRkRW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgdGhpcy5lbWFpbHNMaXN0LmFkZEVtYWlscyhbbmV3IEVtYWlsU3RyaW5nXzEuRW1haWxTdHJpbmcoZW1haWwpXSk7XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dC5wcm90b3R5cGUuc2Nyb2xsVG9Cb3R0b20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1haWxJbnB1dFZpZXcuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICB9O1xuICAgIEVtYWlsc0lucHV0LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1haWxzTGlzdC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuZW1haWxJbnB1dFZpZXcuY3JlYXRlKCkuZ2V0SHRtbCgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2VtYWlscycgJiYgdGhpcy5vbkVtYWlsc0xpc3RDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25FbWFpbHNMaXN0Q2hhbmdlKHRoaXMuZ2V0RW1haWxzKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRW1haWxzSW5wdXQ7XG59KCkpO1xuZXhwb3J0cy5FbWFpbHNJbnB1dCA9IEVtYWlsc0lucHV0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiQC9tb2RlbC9PYnNlcnZhYmxlXCIpO1xudmFyIEVtYWlsU3RyaW5nTGlzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW1haWxTdHJpbmdMaXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtYWlsU3RyaW5nTGlzdChlbWFpbHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZW1haWxzID0gZW1haWxzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVtYWlsU3RyaW5nTGlzdC5wcm90b3R5cGUuZ2V0RW1haWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWFpbHM7XG4gICAgfTtcbiAgICBFbWFpbFN0cmluZ0xpc3QucHJvdG90eXBlLnNldEVtYWlscyA9IGZ1bmN0aW9uIChlbWFpbHMpIHtcbiAgICAgICAgdGhpcy5lbWFpbHMgPSBlbWFpbHM7XG4gICAgICAgIHRoaXMubm90aWZ5T2JzZXJ2ZXJzKCdlbWFpbHMnKTtcbiAgICB9O1xuICAgIEVtYWlsU3RyaW5nTGlzdC5wcm90b3R5cGUucmVtb3ZlRW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgdGhpcy5zZXRFbWFpbHModGhpcy5lbWFpbHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtICE9PSBlbWFpbDsgfSkpO1xuICAgIH07XG4gICAgRW1haWxTdHJpbmdMaXN0LnByb3RvdHlwZS5hZGRFbWFpbHMgPSBmdW5jdGlvbiAoZW1haWxzKSB7XG4gICAgICAgIHRoaXMuc2V0RW1haWxzKHRoaXMuZW1haWxzLmNvbmNhdChlbWFpbHMpKTtcbiAgICB9O1xuICAgIHJldHVybiBFbWFpbFN0cmluZ0xpc3Q7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLkVtYWlsU3RyaW5nTGlzdCA9IEVtYWlsU3RyaW5nTGlzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZSgpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuYWRkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSAhPT0gb2JzZXJ2ZXI7IH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuaGFzT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzLmluY2x1ZGVzKG9ic2VydmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICB0aGlzLm9ic2VydmVycy5zbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikgeyByZXR1cm4gb2JzZXJ2ZXIudXBkYXRlKHByb3BlcnR5KTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiQC92aWV3L1ZpZXdcIik7XG52YXIgRW1haWxTdHJpbmdfMSA9IHJlcXVpcmUoXCJAL21vZGVsL0VtYWlsU3RyaW5nXCIpO1xudmFyIEVtYWlsU3RyaW5nTGlzdFZpZXdfMSA9IHJlcXVpcmUoXCJAL3ZpZXcvRW1haWxTdHJpbmdMaXN0Vmlld1wiKTtcbnJlcXVpcmUoXCJAL3ZpZXcvRW1haWxzSW5wdXRWaWV3LnNjc3NcIik7XG52YXIgRW1haWxzSW5wdXRWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFbWFpbHNJbnB1dFZpZXcsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRW1haWxzSW5wdXRWaWV3KG93bmVyRG9jdW1lbnQsIG1vZGVsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG93bmVyRG9jdW1lbnQsIG1vZGVsKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lbWFpbFN0cmluZ0xpc3RWaWV3ID0gbmV3IEVtYWlsU3RyaW5nTGlzdFZpZXdfMS5FbWFpbFN0cmluZ0xpc3RWaWV3KG93bmVyRG9jdW1lbnQsIG1vZGVsKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFbWFpbHNJbnB1dFZpZXcucHJvdG90eXBlLnNjcm9sbFRvQm90dG9tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmh0bWwuc2Nyb2xsVG9wID0gdGhpcy5odG1sLnNjcm9sbEhlaWdodDtcbiAgICB9O1xuICAgIEVtYWlsc0lucHV0Vmlldy5wcm90b3R5cGUudXBkYXRlSW5wdXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0LnNjcm9sbFdpZHRoID4gdGhpcy5pbnB1dC5vZmZzZXRXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuc3R5bGUud2lkdGggPSB0aGlzLmlucHV0LnNjcm9sbFdpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW1haWxzSW5wdXRWaWV3LnByb3RvdHlwZS5hZGRFbWFpbHNGcm9tU3RyaW5nID0gZnVuY3Rpb24gKGVtYWlsc1N0cmluZywgcmVzZXRJbnB1dCkge1xuICAgICAgICB2YXIgZW1haWxzID0gRW1haWxTdHJpbmdfMS5FbWFpbFN0cmluZy5wYXJzZUVtYWlsU3RyaW5nc0Zyb21TdHJpbmcoZW1haWxzU3RyaW5nKTtcbiAgICAgICAgaWYgKGVtYWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuYWRkRW1haWxzKGVtYWlscyk7XG4gICAgICAgICAgICBpZiAocmVzZXRJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlLnN1YnN0cihlbWFpbHNTdHJpbmcubGVuZ3RoKS5yZXBsYWNlKC9eXFxzKy8sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dFZpZXcucHJvdG90eXBlLmhhbmRsZUlucHV0Qmx1ckV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkZEVtYWlsc0Zyb21TdHJpbmcodGhpcy5pbnB1dC52YWx1ZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dFZpZXcucHJvdG90eXBlLmhhbmRsZUlucHV0UGFzdGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmFkZEVtYWlsc0Zyb21TdHJpbmcoZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgRW1haWxzSW5wdXRWaWV3LnByb3RvdHlwZS5oYW5kbGVJbnB1dEtleURvd25FdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEVtYWlsc0Zyb21TdHJpbmcodGhpcy5pbnB1dC52YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVtYWlsc0lucHV0Vmlldy5wcm90b3R5cGUuaGFuZGxlSW5wdXRLZXlVcEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICcsJykge1xuICAgICAgICAgICAgdmFyIGxhc3RDb21hSW5kZXggPSB0aGlzLmlucHV0LnZhbHVlLmxhc3RJbmRleE9mKCcsJyk7XG4gICAgICAgICAgICBpZiAobGFzdENvbWFJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVtYWlsc0Zyb21TdHJpbmcodGhpcy5pbnB1dC52YWx1ZS5zdWJzdHIoMCwgbGFzdENvbWFJbmRleCArIDEpLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRW1haWxzSW5wdXRWaWV3LnByb3RvdHlwZS5oYW5kbGVJbnB1dFRleHRJbnB1dEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlucHV0V2lkdGgoKTtcbiAgICB9O1xuICAgIEVtYWlsc0lucHV0Vmlldy5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIudHlwZXMuaW5jbHVkZXMoJ3RleHQvcGxhaW4nKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW1haWxzSW5wdXRWaWV3LnByb3RvdHlwZS5oYW5kbGVEcm9wRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hZGRFbWFpbHNGcm9tU3RyaW5nKGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9wbGFpblwiKSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICBFbWFpbHNJbnB1dFZpZXcucHJvdG90eXBlLmhhbmRsZUNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuZ2V0SHRtbCgpKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVtYWlsc0lucHV0Vmlldy5wcm90b3R5cGUuY3JlYXRlSHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuZWxlbWVudCh7XG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgY2xhc3NlczogWydlbWFpbHMtaW5wdXRfX2NvbnRyb2wnXSxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmhhbmRsZUlucHV0Qmx1ckV2ZW50KCk7IH0sXG4gICAgICAgICAgICAgICAgcGFzdGU6IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuaGFuZGxlSW5wdXRQYXN0ZUV2ZW50KGV2ZW50KTsgfSxcbiAgICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLmhhbmRsZUlucHV0S2V5RG93bkV2ZW50KGV2ZW50KTsgfSxcbiAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5oYW5kbGVJbnB1dEtleVVwRXZlbnQoZXZlbnQpOyB9LFxuICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVJbnB1dFRleHRJbnB1dEV2ZW50KCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQoe1xuICAgICAgICAgICAgbmFtZTogJ2RpdicsXG4gICAgICAgICAgICBjbGFzc2VzOiBbJ2VtYWlscy1pbnB1dCddLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt0aGlzLmVtYWlsU3RyaW5nTGlzdFZpZXcuY3JlYXRlKCkuZ2V0SHRtbCgpLCB0aGlzLmlucHV0XSxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGRyYWdlbnRlcjogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5oYW5kbGVEcmFnRXZlbnQoZXZlbnQpOyB9LFxuICAgICAgICAgICAgICAgIGRyYWdvdmVyOiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdFdmVudChldmVudCk7IH0sXG4gICAgICAgICAgICAgICAgZHJvcDogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5oYW5kbGVEcm9wRXZlbnQoZXZlbnQpOyB9LFxuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVDbGlja0V2ZW50KCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW1haWxzSW5wdXRWaWV3O1xufShWaWV3XzEuVmlldykpO1xuZXhwb3J0cy5FbWFpbHNJbnB1dFZpZXcgPSBFbWFpbHNJbnB1dFZpZXc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGVsZW1lbnQob3duZXJEb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHZhciByZXN1bHQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQob3B0aW9ucy5uYW1lKTtcbiAgICByZXN1bHQuY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc2VzID8gb3B0aW9ucy5jbGFzc2VzLmpvaW4oJyAnKSA6ICcnO1xuICAgIHJlc3VsdC50ZXh0Q29udGVudCA9IG9wdGlvbnMudGV4dCB8fCAnJztcbiAgICBpZiAob3B0aW9ucy5yb2xlKSB7XG4gICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCBvcHRpb25zLnJvbGUpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbikge1xuICAgICAgICBvcHRpb25zLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiByZXN1bHQuYXBwZW5kQ2hpbGQoY2hpbGQpOyB9KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubGlzdGVuZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGxpc3RlbmVyTmFtZSBpbiBvcHRpb25zLmxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGlzdGVuZXJzLmhhc093blByb3BlcnR5KGxpc3RlbmVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkRXZlbnRMaXN0ZW5lcihsaXN0ZW5lck5hbWUsIG9wdGlvbnMubGlzdGVuZXJzW2xpc3RlbmVyTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmVsZW1lbnQgPSBlbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiQC92aWV3L1ZpZXdcIik7XG5yZXF1aXJlKFwiQC92aWV3L0VtYWlsU3RyaW5nTGlzdFZpZXcuc2Nzc1wiKTtcbnZhciBFbWFpbFN0cmluZ0xpc3RWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFbWFpbFN0cmluZ0xpc3RWaWV3LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtYWlsU3RyaW5nTGlzdFZpZXcob3duZXJEb2N1bWVudCwgZW1haWxzKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvd25lckRvY3VtZW50LCBlbWFpbHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEVtYWlsU3RyaW5nTGlzdFZpZXcucHJvdG90eXBlLmNyZWF0ZUVtYWlsSHRtbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50KHtcbiAgICAgICAgICAgIG5hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgIGNsYXNzZXM6IFtcbiAgICAgICAgICAgICAgICAnZW1haWwtc3RyaW5nLWxpc3RfX2VtYWlsLWJsb2NrJyxcbiAgICAgICAgICAgICAgICBcImVtYWlsLXN0cmluZy1saXN0X19lbWFpbC1ibG9jay1cIiArIChlbWFpbC5pc1ZhbGlkKCkgPyAndmFsaWQnIDogJ2ludmFsaWQnKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiBbJ2VtYWlsLXN0cmluZy1saXN0X19lbWFpbC1sYWJlbCddLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBlbWFpbC52YWx1ZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogWydlbWFpbC1zdHJpbmctbGlzdF9fZW1haWwtcmVtb3ZlLWJ1dHRvbiddLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnw5cnLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuZ2V0TW9kZWwoKS5yZW1vdmVFbWFpbChlbWFpbCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRW1haWxTdHJpbmdMaXN0Vmlldy5wcm90b3R5cGUuY3JlYXRlSHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCh7XG4gICAgICAgICAgICBuYW1lOiAnc3BhbicsXG4gICAgICAgICAgICBjbGFzc2VzOiBbJ2VtYWlsLXN0cmluZy1saXN0J11cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBFbWFpbFN0cmluZ0xpc3RWaWV3LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnZW1haWxzJyB8fCBwcm9wZXJ0eSA9PT0gJyonKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5nZXRIdG1sKCkuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SHRtbCgpLnJlbW92ZUNoaWxkKHRoaXMuZ2V0SHRtbCgpLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nZXRNb2RlbCgpLmdldEVtYWlscygpLmZvckVhY2goZnVuY3Rpb24gKGVtYWlsKSB7IHJldHVybiBfdGhpcy5nZXRIdG1sKCkuYXBwZW5kQ2hpbGQoX3RoaXMuY3JlYXRlRW1haWxIdG1sKGVtYWlsKSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgcHJvcGVydHkpO1xuICAgIH07XG4gICAgcmV0dXJuIEVtYWlsU3RyaW5nTGlzdFZpZXc7XG59KFZpZXdfMS5WaWV3KSk7XG5leHBvcnRzLkVtYWlsU3RyaW5nTGlzdFZpZXcgPSBFbWFpbFN0cmluZ0xpc3RWaWV3O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRW1haWxzSW5wdXRfMSA9IHJlcXVpcmUoXCJAL0VtYWlsc0lucHV0XCIpO1xucmVxdWlyZShcIi4vaW5kZXguc2Nzc1wiKTtcbnZhciBlbWFpbHNDb3VudExhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlscy1jb3VudCcpO1xuZW1haWxzQ291bnRMYWJlbC50ZXh0Q29udGVudCA9ICcyJztcbnZhciBlbWFpbHNJbnB1dCA9IG5ldyBFbWFpbHNJbnB1dF8xLkVtYWlsc0lucHV0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbC1pbnB1dCcpLCB7XG4gICAgZW1haWxzOiBbJ2JsYUBibGEuY29tJywgJ2ludmFsaWQuY29tJ10sXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChlbWFpbHMpIHtcbiAgICAgICAgZW1haWxzQ291bnRMYWJlbC50ZXh0Q29udGVudCA9IFN0cmluZyhlbWFpbHMubGVuZ3RoKTtcbiAgICB9XG59KVxuICAgIC5jcmVhdGUoKTtcbnZhciBzYW1wbGVOYW1lcyA9IFsnYm9iJywgJ3JvYicsICdqb2huJywgJ3N0ZXZlJywgJ2phbmUnLCAnYW5uYSddO1xudmFyIHNhbXBsZVN1YmRvbWFpbnMgPSBbJ2FwcGxlJywgJ2ZhY2Vib29rJywgJ2dvb2dsZScsICdsaW5rZWRpbiddO1xudmFyIHNhbXBsZVJvb3REb21haW5zID0gWydjb20nLCAnb3JnJywgJ25ldCcsICdubCcsICdydScsICd1YSddO1xuZnVuY3Rpb24gcGlja1JhbmRvbShsaXN0KSB7XG4gICAgcmV0dXJuIGxpc3RbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGxpc3QubGVuZ3RoIC0gMSkpXTtcbn1cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtZW1haWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBlbWFpbHNJbnB1dC5hZGRFbWFpbChwaWNrUmFuZG9tKHNhbXBsZU5hbWVzKSArIFwiQFwiICsgcGlja1JhbmRvbShzYW1wbGVTdWJkb21haW5zKSArIFwiLlwiICsgcGlja1JhbmRvbShzYW1wbGVSb290RG9tYWlucykpO1xuICAgIGVtYWlsc0lucHV0LnNjcm9sbFRvQm90dG9tKCk7XG59KTtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXQtZW1haWxzLWNvdW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgYWxlcnQoZW1haWxzSW5wdXQuZ2V0RW1haWxzKCkubGVuZ3RoICsgXCIgZW1haWxzIGVudGVyZWQhXCIpO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9